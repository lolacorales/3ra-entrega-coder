{% extends "app_coder/base.html" %}
{% load static %}

{% block contenido %}

<!-- Header -->
<header class="masthead text-center text-white">
    <div class="masthead-content">
        <div class="container px-5">
            <h1 class="masthead-heading mb-0">LOLOBOXD</h1>
            <h2 class="masthead-subheading mb-0">Donde todos somos críticos</h2>
            <a class="btn btn-primary btn-xl rounded-pill mt-5" href="#scroll">Descubrí las reseñas de la comunidad</a>
        </div>
    </div>
    <div class="bg-circle-1 bg-circle"></div>
    <div class="bg-circle-2 bg-circle"></div>
    <div class="bg-circle-3 bg-circle"></div>
    <div class="bg-circle-4 bg-circle"></div>
</header>

<div class="py-5 bg-light text-center">
    <div class="container px-5">
        <p class="lead mb-0">
            Explora las opiniones de otros lectores, comparte tus pensamientos y sé parte de nuestra comunidad crítica.
        </p>
        Descubrí:   
    </div>
</div>

<div class="d-flex flex-column align-items-center mb-2">
    <form action="" method="GET">
        <input type="text" name="q" placeholder="Harry Potter" required>
        <button type="submit">Buscar</button>
    </form>
</div>


{% if reseñas %}
    <div class="container">
        <table class="table">
            <thead>
                <tr class="table-danger">
                <th scope="col">Libro</th>
                <th scope="col">Reseña</th>
                <th scope="col">Crítico</th>
                <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for reseña in reseñas %}
                <tr class="table-success">
                <td>{{reseña.libro.titulo}}</td>
                <td>{{reseña.texto}}</td>
                <td>{{reseña.critico.nombre}}</td>
                <td>
                <a class = "btn btn-danger" href = "{% url 'eliminar_reseña' reseña.pk %}"> Eliminar </a>
                <a class = "btn btn-warning" href = "{% url 'editar_reseña' reseña.pk %}"> Editar </a> 
                </td>                
                {% endfor %}
            </tr>
    
            </tbody>
        </table>
    </div>
{% else %}
    <p class="text-center fs-4 text-danger">No se encontraron reseñas que coincidan con "{{ query }}"</p>
{% endif %}


    <!-- Content section 1 -->
    <section id="scroll">
        <div class="container px-5">
            <div class="row gx-5 align-items-center">
            </div>
        </div>
    </section>


{% endblock %}
